<!DOCTYPE html>
<html>
    <head>
        <title>Secret Page</title>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:title" content="Secret Page">
        <meta property="og:description" content="Insert secret desscription here as SEO friendly description.">
        <meta property="og:type" content="article">
        <meta property="og:url" content="https://icevelez.github.io/pages/secret.html">

        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4" defer></script>

        <style>
            html, body {
                height: 100%;
                width: 100%;
                margin: 0;
                padding: 0;
            }

            .dancing-script {
              font-family: "Dancing Script", cursive;
              font-optical-sizing: auto;
              font-weight: 400;
              font-style: normal;
            }
        </style>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
    </head>
    <body class="dancing-script relative">
        <div id="confetti-el" class="absolute top-0 left-0 h-full w-full flex items-center justify-center pointer-events-none">
        </div>
        <div class="w-full h-full flex items-center justify-center" style="background-image: url('paper/background.jpg'); background-size: cover;">
            <div id="message-box-el" class="bg-white rounded-lg w-[680px] h-[540px] shadow-md p-10 flex flex-col justify-center transition-all">
                <h1 class="text-7xl w-full text-center">Will you be my Valentine?</h1>
                <div class="flex justify-around gap-10 text-5xl h-full items-center">
                    <div class="flex flex-col gap-2 items-center justify-center">
                        <label>Yes</label>
                        <input id="yes-ipt" class="h-20 w-20" type="checkbox">
                    </div>
                    <div class="flex flex-col gap-2 items-center justify-center hover:pointer-events-none hover:opacity-0">
                        <label class="text-xl">No</label>
                        <input id="no-ipt" type="checkbox">
                    </div>
                </div>
            </div>
        </div>
        <audio id="audio-el" src="paper/Lany - Made In Hollywood.mp3"/>
        <script>
            function delay(time) {
                return new Promise((resolve) => setTimeout(resolve, time));
            }

            const audio_el = document.getElementById("audio-el");
            const yes_input = document.getElementById("yes-ipt");
            const no_input = document.getElementById("no-ipt");
            const confetti_el = document.getElementById("confetti-el");
            const message_box_el = document.getElementById("message-box-el");

            yes_input.addEventListener('click', async () => {
                confetti_el.setAttribute("style", "background-image: url('paper/confetti.gif'); background-size: cover;");
                message_box_el.innerHTML = `
                    <h1 class="text-7xl w-full text-center">I LOVE YOU</h1>
                    <br>
                    <br>
                    <h1 class="text-7xl w-full text-center">MY VALENTINE</h1>
                    <br>
                    <br>
                    <h1 class="text-7xl w-full text-center">YEYYYY!!!!!!!</h1>
                `

                message_box_el.setAttribute("style", "height: 720px; width: 980px;");

                audio_el.play();

                const parent = message_box_el.parentElement;

                await delay(5000)
                parent.innerHTML = "";
                parent.setAttribute("style", "background-image: url('paper/after.jpg'); background-size: cover;");
                await delay(5000)
                parent.innerHTML = "";
                parent.setAttribute("style", "background-image: url('paper/night.jpg'); background-size: cover;");
            })

            no_input.addEventListener('click', () => {
                no_input.parentElement.remove();
            })

            let mouse_is_on_no_el = false;

            no_input.parentElement.addEventListener("mouseenter", function(  ) {
                mouse_is_on_no_el = true;
                make_no_invisible();
            });
            no_input.parentElement.addEventListener("mouseout", function(  ) {
                mouse_is_on_no_el = false;
                make_no_invisible();
            });

            function make_no_invisible() {
                if (!mouse_is_on_no_el) return no_input.parentElement.setAttribute("style", "");
                no_input.parentElement.setAttribute("style", "pointer-events: none; opacity: 0;");
            }
        </script>
    </body>
</html>
